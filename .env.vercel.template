# Biz-Retriever Vercel Environment Variables Template
# 
# Instructions:
# 1. Copy this file: cp .env.vercel.template .env.production
# 2. Fill in all values with your actual credentials
# 3. Add to Vercel Dashboard: Settings → Environment Variables
# 4. Select: Production, Preview, Development (all checked)

# ============================================
# Database - Neon PostgreSQL (Required)
# ============================================
# Get from: https://console.neon.tech/
# Format: postgresql://user:password@host.neon.tech/dbname?sslmode=require
DATABASE_URL=postgresql://USER:PASSWORD@HOST.neon.tech/DBNAME?sslmode=require

# Alternative names (for compatibility)
NEON_DATABASE_URL=${DATABASE_URL}

# ============================================
# Cache - Upstash Redis (Required)
# ============================================
# Get from: https://console.upstash.com/
# Format: rediss://:password@host.upstash.io:6379
REDIS_URL=rediss://:PASSWORD@HOST.upstash.io:6379

# ============================================
# Security - JWT & Encryption (Required)
# ============================================
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=GENERATE_RANDOM_STRING_HERE

# ============================================
# AI - Google Gemini (Required)
# ============================================
# Get from: https://aistudio.google.com/app/apikey
GEMINI_API_KEY=AIzaSy...

# ============================================
# Payment - Tosspayments (Required for Payment Features)
# ============================================
# Get from: https://developers.tosspayments.com/
# Test keys (for development)
TOSSPAYMENTS_SECRET_KEY=test_sk_...
TOSSPAYMENTS_CLIENT_KEY=test_ck_...
TOSSPAYMENTS_WEBHOOK_SECRET=GENERATE_RANDOM_STRING_HERE

# Production keys (for production deployment)
# TOSSPAYMENTS_SECRET_KEY=live_sk_...
# TOSSPAYMENTS_CLIENT_KEY=live_ck_...

# ============================================
# Cron Jobs - Security (Required)
# ============================================
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
CRON_SECRET=GENERATE_RANDOM_STRING_HERE

# ============================================
# Notifications - Slack (Optional)
# ============================================
# Get from: https://api.slack.com/messaging/webhooks
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# ============================================
# External APIs - Data Sources (Required)
# ============================================
# G2B (나라장터) API Key
# Get from: https://www.data.go.kr/
G2B_API_KEY=YOUR_G2B_API_KEY_HERE

# ============================================
# Environment Settings (Auto-detected by Vercel)
# ============================================
# VERCEL=1 (auto-set by Vercel)
# VERCEL_ENV=production|preview|development (auto-set)
# VERCEL_URL=your-deployment-url.vercel.app (auto-set)

# ============================================
# Optional - Advanced Settings
# ============================================
# Database pool settings (usually not needed for serverless)
# DB_POOL_SIZE=5
# DB_MAX_OVERFLOW=10

# Redis settings (usually not needed)
# REDIS_MAX_CONNECTIONS=10

# AI settings
# OPENAI_API_KEY=sk-... (fallback if Gemini fails)

# ============================================
# Verification Checklist
# ============================================
# [ ] DATABASE_URL - Neon PostgreSQL connection string
# [ ] REDIS_URL - Upstash Redis connection string
# [ ] SECRET_KEY - Random 32+ character string
# [ ] GEMINI_API_KEY - Google Gemini API key
# [ ] TOSSPAYMENTS_SECRET_KEY - Payment gateway secret
# [ ] TOSSPAYMENTS_CLIENT_KEY - Payment gateway client key
# [ ] TOSSPAYMENTS_WEBHOOK_SECRET - Webhook signature secret
# [ ] CRON_SECRET - Cron job authorization secret
# [ ] SLACK_WEBHOOK_URL - Slack notification URL (optional)
# [ ] G2B_API_KEY - G2B API key

# ============================================
# Quick Setup Commands
# ============================================
# 
# 1. Generate secrets:
#    python -c "import secrets; print('SECRET_KEY=' + secrets.token_urlsafe(32))"
#    python -c "import secrets; print('CRON_SECRET=' + secrets.token_urlsafe(32))"
#    python -c "import secrets; print('TOSSPAYMENTS_WEBHOOK_SECRET=' + secrets.token_urlsafe(32))"
#
# 2. Test locally:
#    cp .env.vercel.template .env
#    # Fill in values
#    vercel env pull .env.local
#
# 3. Deploy to Vercel:
#    vercel env add < .env.production
#    vercel deploy --prod
#
# ============================================
# Security Notes
# ============================================
# - NEVER commit .env.production to git
# - Add to .gitignore: .env.production, .env.local
# - Rotate secrets regularly (every 90 days recommended)
# - Use different values for production vs development
# - Enable Vercel's environment variable encryption
